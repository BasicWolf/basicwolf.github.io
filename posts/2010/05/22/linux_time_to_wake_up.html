
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Lexend+Deca:wght@100..900&display=swap&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://zaurnasibov.com/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://zaurnasibov.com/theme/pygments/github.min.css">


  <link rel="stylesheet" type="text/css" href="https://zaurnasibov.com/theme/font-awesome/css/fontawesome.min.css">
  <link rel="stylesheet" type="text/css" href="https://zaurnasibov.com/theme/font-awesome/css/brands.min.css">
  <link rel="stylesheet" type="text/css" href="https://zaurnasibov.com/theme/font-awesome/css/solid.min.css">

  <link rel="stylesheet" type="text/css" href="https://zaurnasibov.com//static/css/extra.css">

  <link rel="shortcut icon" href="/static/images/favicon.png" type="image/x-icon">
  <link rel="icon" href="/static/images/favicon.png" type="image/x-icon">


  <link href="https://zaurnasibov.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Zaur's Thoughts Atom">









<meta name="author" content="Zaur Nasibov" />
<meta name="description" content="Back in my &#34;Windows&#34; times, I was a fan of Foobar2000 music player. One of my favourite plug-ins was &#34;Alarm&#34;, which could turn user&#39;s computer on during &#34;suspend&#34; state. So, I could switch my laptop to &#34;sleep&#34; mode, and be awaken in the morning by music from Foobar&#39;s playlist :) Is it possible to reproduce a similar trick in Linux? It depends on your hardware. Let&#39;s give it a try!" />
<meta name="keywords" content="Linux, ACPI">


  <meta property="og:site_name" content="Zaur's Thoughts"/>
  <meta property="og:title" content="Linux, it&#39;s time to wake up!"/>
  <meta property="og:description" content="Back in my &#34;Windows&#34; times, I was a fan of Foobar2000 music player. One of my favourite plug-ins was &#34;Alarm&#34;, which could turn user&#39;s computer on during &#34;suspend&#34; state. So, I could switch my laptop to &#34;sleep&#34; mode, and be awaken in the morning by music from Foobar&#39;s playlist :) Is it possible to reproduce a similar trick in Linux? It depends on your hardware. Let&#39;s give it a try!"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://zaurnasibov.com/posts/2010/05/22/linux_time_to_wake_up.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2010-05-22 12:00:00+03:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="https://zaurnasibov.com/author/zaur-nasibov.html">
  <meta property="article:section" content="Articles"/>
  <meta property="article:tag" content="Linux"/>
  <meta property="article:tag" content="ACPI"/>
  <meta property="og:image" content="/static/images/logo.png">

  <title>Zaur's Thoughts &ndash; Linux, it&#39;s time to wake up!</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="https://zaurnasibov.com/">
      <img src="/static/images/logo.png" alt="Zaur's Thoughts" title="Zaur's Thoughts">
    </a>

    <h1>
      <a href="https://zaurnasibov.com/">Zaur's Thoughts</a>
    </h1>

    <p>Zaurun Fikirl…ôri</p>


    <nav>
      <ul class="list">

          <li>
            <a target="_self" href="/posts.html" ><strong>Articles</strong></a>
          </li>
          <li>
            <a target="_self" href="/pages/shorts.html" >Shorts</a>
          </li>
          <li>
            <a target="_self" href="/category/books.html" >Books</a>
          </li>


            <li>
              <a target="_self"
                 href="https://zaurnasibov.com/pages/bookmarks.html#bookmarks">
                Bookmarks
              </a>
            </li>
            <li>
              <a target="_self"
                 href="https://zaurnasibov.com/pages/memes.html#memes">
                Memes
              </a>
            </li>
            <li>
              <a target="_self"
                 href="https://zaurnasibov.com/pages/projects.html#projects">
                Projects
              </a>
            </li>
            <li>
              <a target="_self"
                 href="https://zaurnasibov.com/pages/about.html#about">
                About
              </a>
            </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-linkedin"
           href="https://www.linkedin.com/in/zaur-nasibov-44610853/"
           target="_blank">
          <i class="fa-brands fa-linkedin"></i>
        </a>
      </li>
      <li>
        <a class="sc-github"
           href="https://github.com/basicwolf"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-rss"
           href="/feeds/all.atom.xml"
           target="_blank">
          <i class="fa-solid fa-rss"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>

<nav>
  <a href="https://zaurnasibov.com/">Home</a>

  <a href="/archives.html">Archives</a>
  <a href="/tags.html">Tags</a>
  <a href="/pages/privacy-policy.html">Privacy Policy</a>
</nav>

<article>
  <header>
      
    <h1 id="linux_time_to_wake_up">Linux, it's time to wake up!</h1>
    <p>
      Posted on 22 May 2010 in <a href="https://zaurnasibov.com/category/articles.html">Articles</a>

        &#8226; 3 min read
    </p>
  </header>


  <div>
    <div class="section" id="what-is-rtc-and-acpi">
<h2>What is RTC and ACPI?</h2>
<p>A Real Time Clock (RTC) alarm is a feature that can be used to allow a
computer to 'wake up' after shut down to execute tasks every day or on a
certain day. It can sometimes be found in the 'Power Management' section
of a motherboard's BIOS setup <a class="footnote-reference" href="#footnote-1" id="footnote-reference-1">[1]</a>.</p>
<p>In computing, the Advanced Configuration and Power Interface (ACPI)
specification provides an open standard for unified operating system-centric
device configuration and power management. ACPI, first released in December
1996, defines platform-independent interfaces for hardware discovery,
configuration, power management and monitoring <a class="footnote-reference" href="#footnote-2" id="footnote-reference-2">[2]</a>.</p>
<p>ACPI allows control of power management from within the operating system.
The previous industry standard for power management, Advanced Power Management
(APM), is controlled at the BIOS level. APM is activated when the system
becomes idle: the longer the system idles, the less power it consumes (e.g.
screen saver vs. sleep vs. suspend). In APM, the operating system has no
knowledge of when the system will change power states <a class="footnote-reference" href="#footnote-3" id="footnote-reference-3">[3]</a>.</p>
<p>ACPI can typically be configured from within the operating system. This is
unlike APM where configuration often involves rebooting and entering the
BIOS configuration screens to set parameters.</p>
<p>The ACPI specification defines seven states (so-called global states) for
an ACPI-compliant computer-system <a class="footnote-reference" href="#footnote-4" id="footnote-reference-4">[4]</a>. Some of them are:</p>
<ul class="simple">
<li><strong>G0 (S0)</strong> Working.</li>
<li><strong>G1</strong> Sleeping (subdivides into the four states S1 through S4).</li>
<li><strong>G1/S3</strong> Commonly referred to as Standby, Sleep, or Suspend to RAM.
RAM remains powered</li>
<li><strong>G1/S4</strong> Hibernation or Suspend to Disk. All content of main memory
is saved to non-volatile memory such as a hard drive, and is powered down.</li>
<li><strong>G2 (S5)</strong> Soft Off. G2, S5, and Soft Off are synonyms. G2 is almost the
same as G3 Mechanical Off, but some components remain powered so the
computer can &quot;wake&quot; from input from the keyboard, clock, modem, LAN, or
USB device.</li>
</ul>
<p>If implemented, the Real Time Clock alarm must generate a hardware wake
event when in the sleeping state. The RTC can be programmed to generate
an alarm. An enabled RTC alarm can be used to generate a wake event when
the system is in a sleeping state.</p>
</div>
<div class="section" id="setting-up-the-wakeup-alarm">
<h2>Setting up the wakeup alarm</h2>
<ol class="arabic simple">
<li>Open a terminal and switch to root su root.</li>
<li>Check if rtc is available (kernel 2.6.22 and higher):
<tt class="docutils literal">ls /sys/class/rtc/rtc0/</tt></li>
<li>Look for the wakealarm file.</li>
<li>Initialize the alarm via <tt class="docutils literal">echo 0 &gt; /sys/class/rtc/rtc0/wakealarm</tt>.</li>
<li>Check if it has been initialzed: <tt class="docutils literal">cat /proc/driver/rtc</tt>. At this
point, the output should be similar to:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span>rtc_time<span class="w">      </span>:<span class="w"> </span><span class="m">09</span>:30:05
rtc_date<span class="w">      </span>:<span class="w"> </span><span class="m">2010</span>-05-22
alrm_time<span class="w">     </span>:<span class="w"> </span><span class="m">09</span>:34:43
alrm_date<span class="w">     </span>:<span class="w"> </span>****-**-22
alarm_IRQ<span class="w">     </span>:<span class="w"> </span>no
alrm_pending<span class="w">  </span>:<span class="w"> </span>no
24hr<span class="w">          </span>:<span class="w"> </span>yes
periodic_IRQ<span class="w">  </span>:<span class="w"> </span>no
update_IRQ<span class="w">    </span>:<span class="w"> </span>no
HPET_emulated<span class="w"> </span>:<span class="w"> </span>yes
DST_enable<span class="w">    </span>:<span class="w"> </span>no
periodic_freq<span class="w"> </span>:<span class="w"> </span><span class="m">1024</span>
batt_status<span class="w">   </span>:<span class="w"> </span>okay
</pre></div></td></tr></table></div>
<p>The rtc alarm is now ready to be set up. Wakealarm accepts the number of
seconds since Jan 1, 1970 (this is known as &quot;unix time&quot;, &quot;POSIX time&quot; or
&quot;epoch time&quot;).</p>
<p>You must make sure that your BIOS clock is set to UTC time - not localtime
- otherwise it will wakeup at the wrong time. However, it is still possible
if the BIOS clock is set to localtime (likely if you also run windows); see
the section below for how to set the alarm correctly when the BIOS clock is
in localtime. If you want to change the wakealarm time, you will need to
write the new wakealarm time to the BIOS.</p>
<ol class="arabic simple" start="6">
<li>A simple way to set the alarm to current time + 1 minute is:
<tt class="docutils literal">echo &quot;+60&quot; &gt; /sys/class/rtc/rtc0/wakealarm</tt>.</li>
<li>Check if the alarm has been set up:
<tt class="docutils literal">cat /proc/driver/rtc</tt></li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span>...
alarm_IRQ<span class="w">      </span>:<span class="w"> </span>yes
...
</pre></div></td></tr></table></div>
<ol class="arabic simple" start="8">
<li>Now, suspend or shut down your computer. And wait until it wakes up in
less than a minute :)</li>
</ol>
<p>You can find more information about the topic at
<a class="reference external" href="http://www.mythtv.org/wiki/ACPI_Wakeup">MythTV.org</a>.</p>
<p>Be careful with the experiments!</p>
</div>
<div class="section" id="references">
<h2>References</h2>
<table class="docutils footnote" frame="void" id="footnote-1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-1">[1]</a></td><td><a class="reference external" href="http://en.wikipedia.org/wiki/Real-time_clock_alarm">Wikipedia.org: Real-time alarm</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-2">[2]</a></td><td><a class="reference external" href="http://en.wikipedia.org/wiki/Advanced_Configuration_and_Power_Interface">Wikipedia.org: ACPI</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-3">[3]</a></td><td><a class="reference external" href="http://en.wikipedia.org/wiki/Advanced_Configuration_and_Power_Interface#Power_States">Wikipedia.org: ACPI power states</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="footnote-4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#footnote-reference-4">[4]</a></td><td><a class="reference external" href="http://www.tldp.org/HOWTO/ACPI-HOWTO/aboutacpi.html">About ACPI by Emma Jane Hogbin</a></td></tr>
</tbody>
</table>
</div>

  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://zaurnasibov.com/tag/linux.html">Linux</a>
      <a href="https://zaurnasibov.com/tag/acpi.html">ACPI</a>
    </p>
  </div>





  <div class="neighbors">
    <a class="btn float-left" href="https://zaurnasibov.com/posts/2010/04/28/why_opera.html" title="Why Opera?">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="https://zaurnasibov.com/posts/2010/08/08/assembler_for_beginners.html" title="Assembler for beginners">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>






</article>

<footer>
<p>&copy; 2025 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Zaur's Thoughts ",
  "url" : "https://zaurnasibov.com",
  "image": "/static/images/logo.png",
  "description": ""
}
</script><script defer
  src='https://static.cloudflareinsights.com/beacon.min.js'
  data-cf-beacon='{"token": "1147ebca9f9247a38190f2958de429a8"}'>
</script>

</body>
</html>